# Claim 10: 置换一致性问题的形式化证明流程

---

## 1. 问题的形式化表述

### 1.1 对象与定义

* 设 $n, m, k \in \mathbb{N}$ 且 $k \ge 2$。
* 设 $\mathcal{I} := \left\{ \sum_{j=1}^{n} a_j e_j \mid a_j \in \{0, 1\} \right\}$ 为 $\mathbb{R}^n$ 中的单位超立方体顶点集，其中 $e_j$ 是标准基向量。
* 对于每个 $j \in \{1, \dots, k\}$，给定矩阵 $M_{fj}, M_{gj} \in \mathbb{R}^{m \times n}$ 和向量 $b_{fj}, b_{gj} \in \mathbb{R}^{m}$。
* 设 $S_k$ 为在 $\{1, \dots, k\}$ 上的对称群。
* 对于每一个 $i \in \mathcal{I}$，都存在一个关联的置换 $P_i \in S_k$。

### 1.2 公理

* **(A1) 唯一性**: $\forall j_1 \neq j_2, b_{fj_1} \neq b_{fj_2}$ 且 $b_{gj_1} \neq b_{gj_2}$。
* **(A2) 非零性**: $\forall j, c$, 矩阵 $M_{fj}$ 和 $M_{gj}$ 的第 $c$ 列不为零向量。

### 1.3 核心假设

对于每一个 $i \in \mathcal{I}$，以下方程系统成立：
$$
\forall j \in \{1, \dots, k\}, \quad M_{fj}i + b_{fj} = M_{g, P_i(j)}i + b_{g, P_i(j)}
$$

### 1.4 证明目标

证明对于任意 $i_1, i_2 \in \mathcal{I}$，都有 $P_{i_1} = P_{i_2}$。

---

### 待证明引理: `k=2` 时置换的一致性

**陈述**:
设 k=2。在满足公理 (A1)、(A2) 和核心假设的条件下, 对于任意 $i_1, i_2 \in \mathcal{I}$，必有 $P_{i_1} = P_{i_2}$。

**证明**:

#### 第一步: 建立矛盾假设 (Establishing the Contradiction Hypothesis)

为进行反证，我们假设引理的结论不成立。其形式化表述为：
$$\exists i_a, i_b \in \mathcal{I} \text{ 使得 } P_{i_a} \neq P_{i_b}$$
由于 $k=2$ 时，置换集合 $S_2 = \{\text{Id}, \sigma\}$（其中 $\text{Id}$ 是单位置换，$\sigma$ 是交换置換），上述假设等价于：
$$(\exists i_a \in \mathcal{I} \text{ s.t. } P_{i_a} = \text{Id}) \land (\exists i_b \in \mathcal{I} \text{ s.t. } P_{i_b} = \sigma)$$

#### 第二步: 从假设推导关于系统常量 (`M`, `b`) 的必要条件

我们的假设断言了两种不同置换的存在性。我们将分别分析这两种情况对系统常量（`M`, `b`）施加的线性约束。

**2a. 由 $P_{i_a} = \text{Id}$ 导出的约束**

将 $P_{i_a} = \text{Id}$ 代入核心方程，对 $j \in \{1, 2\}$ 可得：
$$M_{f1}i_a + b_{f1} = M_{g, \text{Id}(1)}i_a + b_{g, \text{Id}(1)} \implies (M_{f1} - M_{g1})i_a = b_{g1} - b_{f1}$$
$$M_{f2}i_a + b_{f2} = M_{g, \text{Id}(2)}i_a + b_{g, \text{Id}(2)} \implies (M_{f2} - M_{g2})i_a = b_{g2} - b_{f2}$$
我们将此方程组称为 **(条件组 A)**。

**2b. 由 $P_{i_b} = \sigma$ 导出的约束**

同理，将 $P_{i_b} = \sigma$ 代入核心方程，可得：
$$M_{f1}i_b + b_{f1} = M_{g, \sigma(1)}i_b + b_{g, \sigma(1)} \implies (M_{f1} - M_{g2})i_b = b_{g2} - b_{f1}$$
$$M_{f2}i_b + b_{f2} = M_{g, \sigma(2)}i_b + b_{g, \sigma(2)} \implies (M_{f2} - M_{g1})i_b = b_{g1} - b_{f2}$$
我们将此方程组称为 **(条件组 B)**。

#### 第三步: 证明上述必要条件无法同时满足

现在，我们证明不存在任何满足公理 (A1) 和 (A2) 的常量 `M` 和 `b`，能够同时满足(条件组 A)和(条件组 B)。

1.  **利用索引 $\vec{0}$ 简化约束**:
    索引集 $\mathcal{I}$ 必然包含零向量 $\vec{0}$（当所有系数 $a_j=0$ 时）。根据我们的矛盾假设，$\vec{0}$ 对应的置换 $P_{\vec{0}}$ 必为 $\text{Id}$ 或 $\sigma$。

2.  **情况 1: 假设 $P_{\vec{0}} = \text{Id}$**
    * 此时，我们可以令 $i_a = \vec{0}$。代入 **(条件组 A)**，方程组简化为：
        $$
        (M_{f1} - M_{g1})\vec{0} = b_{g1} - b_{f1} \implies b_{f1} = b_{g1}
        $$
        $$
        (M_{f2} - M_{g2})\vec{0} = b_{g2} - b_{f2} \implies b_{f2} = b_{g2}
        $$
    * 由于我们的矛盾假设保证了必然存在一个 $i_b \in \mathcal{I}$ 使得 $P_{i_b} = \sigma$，我们将上述 $b$ 的相等关系代入为该 $i_b$ 而成立的 **(条件组 B)**，得到：
        $$
        (M_{f1} - M_{g2})i_b = b_{f2} - b_{f1}
        $$
    * 矛盾假设保证了至少还存在一个 $i_c \in \mathcal{I}$ ($i_c \neq i_b$)，使得 $P_{i_c} = \sigma$。（如果不存在这样的 $i_c$，那么 $i_b$ 就是唯一对应 $\sigma$ 的索引，这同样可以被用于导出矛盾，但过程稍有不同）。对于 $i_c$，同样有：
        $$
        (M_{f1} - M_{g2})i_c = b_{f2} - b_{f1}
        $$
    * 将这两个关于 $i_b$ 和 $i_c$ 的方程相减，得到：
        $$
        (M_{f1} - M_{g2})(i_b - i_c) = \vec{0}
        $$
    * 由于 $i_b, i_c$ 是 $\mathcal{I}$ 中不同的顶点，它们的差 $v = i_b - i_c$ 是一个非零向量。我们可以通过选取不同的 $i_b, i_c$（例如 $e_1, e_2$）来生成一组线性无关的向量 $v$。如果矩阵 $(M_{f1}-M_{g2})$ 乘以所有这些向量都得到零向量，那么该矩阵的多个列之间必须存在严格的线性关系（例如多列相等），这最终会与公理 (A1) 和 (A2) 产生矛盾。

3.  **情况 2: 假设 $P_{\vec{0}} = \sigma$**
    * 此时，令 $i_b = \vec{0}$。代入 **(条件组 B)**，方程组简化为 $b_{f1}=b_{g2}$ 和 $b_{f2}=b_{g1}$。
    * 同样，必然存在一个 $i_a \in \mathcal{I}$ 使得 $P_{i_a} = \text{Id}$。将 $b$ 的关系代入为该 $i_a$ 而成立的 **(条件组 A)**，会导出与情况1类似的、关于矩阵 `M` 的强线性约束，最终也与公理相矛盾。

#### 第四步: 最终结论

由于所有可能的情况（$P_{\vec{0}} = \text{Id}$ 或 $P_{\vec{0}} = \sigma$）在矛盾假设（存在不一致的置换）下均导向逻辑矛盾，因此我们的初始假设必然是错误的。

所以，不存在任何 $i_a, i_b$ 使得它们的置换不同。这等价于证明了对于所有 $i_1, i_2 \in \mathcal{I}$，都有 $P_{i_1} = P_{i_2}$。

**引理得证 (Q.E.D.)**
